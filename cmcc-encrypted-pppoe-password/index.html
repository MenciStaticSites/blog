<!doctype html><html lang=zh-CN><head><title>被加密的移动光猫 PPPoE 密码 - Menci&#39;s Blog</title><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta name=author content=Menci><meta name=description content="最近帮朋友家新装的宽带配网时，登录超级管理员 CMCCAdmin 后，发现光猫管理页面上的 PPPoE 密码是 6..."><meta name=keywords content=""><link rel=alternate type=application/atom+xml title="ATOM 1.0" href=/atom.xml><meta charset=utf-8><meta name=X-UA-Compatible content="IE=edge"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name=viewport><meta content="telephone=no" name=format-detection><meta name=renderer content=webkit><meta name=theme-color content=#ffffff><link rel="shortcut icon" type=image/x-icon href=//static.cdn.menci.xyz/menci-blog/avatar.6e993e78.png crossorigin=anonymous><link rel=stylesheet href=//cdnjs.baoshuo.ren/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css crossorigin=anonymous><link rel=stylesheet href=//cdnjs.baoshuo.ren/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css crossorigin=anonymous><link rel=stylesheet href=//cdnjs.baoshuo.ren/ajax/libs/KaTeX/0.15.2/katex.min.css crossorigin=anonymous><link rel=stylesheet href=//static.cdn.menci.xyz/menci-blog/css/journal.b205a034.css crossorigin=anonymous><link rel=stylesheet href="//cdn.menci.xyz/fonts/css2?family=Noto+Sans+SC:wght@300%3B400%3B600&family=Source+Sans+Pro:wght@400%3B600&family=Lato:wght@400%3B500&family=Hind+Vadodara:wght@300%3B400&family=Montserrat&family=Fira+Code&family=Material+Icons&display=block" crossorigin=anonymous><script async data-domain=blog.men.ci src=//stat.u.sb/js/plausible.js></script><meta name=generator content="Hexo 7.3.0"></head><body><div id=top></div><div id=app><div class=single-column-drawer-container ref=drawer v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }"><div class=drawer-content><div class=drawer-menu><a class="a-block false drawer-menu-item" href=https://blog.men.ci>首页 </a><a class="a-block false drawer-menu-item" href=/archives/ >归档 </a><a class="a-block false drawer-menu-item" href=/tags/ >标签 </a><a class="a-block false drawer-menu-item" href=/friends/ >朋友们 </a><a class="a-block false drawer-menu-item" href=/about-me/ >关于我</a></div></div></div><transition name=fade><div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if=isDrawerOpen v-on:click=toggleDrawer></div></transition><nav ref=navBar class="navbar navbar-light single-column-nav-container sticky-top"><div ref=navBackground class=nav-background></div><div class="container container-narrow nav-content"><button id=nav_dropdown_btn class=nav-dropdown-toggle type=button v-on:click=toggleDrawer><i class=material-icons>menu</i></button> <a ref=navTitle class=navbar-brand href=/ >Menci&#39;s Blog</a></div></nav><div class=single-column-header-container ref=pageHead v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }"><a href=/ ><div class=single-column-header-title>Menci's Blog</div><div class=single-column-header-subtitle>念念不忘，必有回响</div></a></div><div ref=sideContainer class=side-container><a class="a-block false nav-head" href=/ ><div class=nav-title>Menci's Blog</div><div class=nav-subtitle>念念不忘，必有回响</div></a><div class=nav-link-list><a class="a-block false nav-link-item" href=/archives/ >归档 </a><a class="a-block false nav-link-item" href=/tags/ >标签 </a><a class="a-block false nav-link-item" href=/friends/ >朋友们 </a><a class="a-block false nav-link-item" href=/about-me/ >关于我</a></div><div class=nav-footer>Powered by <a href=https://hexo.io/ target=_blank rel="noreferrer noopener">Hexo</a><br>Theme <a href=https://github.com/Menci/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal</a> by <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a><br>&copy; 2024 <a href=https://blog.men.ci>Menci<i class=material-icons>favorite</i></a></div></div><div ref=extraContainer class=extra-container><div class=pagination><a id=globalBackToTop class="animated-visibility pagination-action" href=#top :class="{ invisible: scrollY == 0 }"><i class="material-icons pagination-action-icon">keyboard_arrow_up</i></a></div></div><div ref=streamContainer class=stream-container><div class="post-list-container post-list-container-shadow"><div class=post><div class=post-head-wrapper-text-only style="background-image: url('')"><div class=post-title>被加密的移动光猫 PPPoE 密码<div class=post-meta><time datetime=2024-11-27T16:00:00.000Z itemprop=datePublished>2024-11-28 </time>&nbsp; <i class=material-icons style="">label</i> <a href=/tags/逆向/ >逆向</a>, <a href=/tags/宽带/ >宽带</a>, <a href=/tags/网络/ >网络</a></div></div></div><div class=post-body-wrapper><div class=post-body><p>最近帮朋友家新装的宽带配网时，登录超级管理员 CMCCAdmin 后，发现光猫管理页面上的 PPPoE 密码是 6 个 <code>*</code> 星号 —— 好在这台光猫不需要拆机就可以开启 Telnet，不需要大动干戈地拆机拿示波器去找 TTL 了。然而高兴了没多久，登录进 Telnet 之后才发现，虽然是熟悉的 <code>pppd</code> 拨号，但配置里的拨号密码被加密了……</p><span id=more></span><p>光猫的型号是 ZXHN F7005MV3，可以使用 <a target=_blank rel=noopener href=https://github.com/Septrum101/zteOnu>zteOnu</a> 工具开启 Telnet：</p><div class=flex-wrapper><pre><code class=language-bash-prompt><span class=hl-sh-prompt data-prompt="# "></span><span class=line><span style=color:#6F42C1>./zteOnu</span><span style=color:#005CC5> --ip</span><span style=color:#032F62> "192.168.1.1"</span><span style=color:#005CC5> --new</span><span style=color:#005CC5> --user</span><span style=color:#032F62> "CMCCAdmin"</span><span style=color:#005CC5> --pass</span><span style=color:#032F62> "CMCCAdminXXXXXXXX"</span><span style=color:#005CC5> --port</span><span style=color:#005CC5> 80</span><span style=color:#005CC5> --tp</span><span style=color:#005CC5> 23</span></span>
ZteONU dev, built at unknown
source: https://github.com/thank243/zteOnu
-----------------------------------
step [0] reset factory: ok
step [1] request factory mode: ok
step [2] send sq: ok
step [3] check login auth: ok
step [4] enter factory mode: ok
-----------------------------------
user: aaaaaaaa
pass: bbbbbbbb
</code></pre></div><p>登录 Telnet 后，使用 <code>ps</code> 命令看到光猫使用 <code>pppd</code> 进行 PPPoE 拨号：</p><div class=flex-wrapper><pre><code class=language-bash-prompt><span class=hl-sh-prompt data-prompt="# "></span><span class=line><span style=color:#6F42C1>ps</span><span style=color:#D73A49> |</span><span style=color:#6F42C1> grep</span><span style=color:#032F62> pppd</span></span>
 5718  user      7568    2376  S    &lt;1&gt;  pppd 0 oe normal file /var/tmp/ppp/options.oe0 nbif1
 6187  root      6276     948  S    &lt;1&gt;  grep pppd
</code></pre></div><p>查看 <code>pppd</code> 的配置文件 <code class=punctuation-r>/var/tmp/ppp/options.oe0</code>（其中地址/用户名/密码已被替换为样例）：</p><div class=flex-wrapper><pre><code class=language-bash-prompt><span class=hl-sh-prompt data-prompt="# "></span><span class=line><span style=color:#6F42C1>cat</span><span style=color:#032F62> /var/tmp/ppp/options.oe0</span></span>
plugin rp-pppoe.so
+ipv6
ipv6 ::d2dd:ffff:ffff:ffff,
user 11111111111
plugin passpppoe.so
encrypasswd 5876a52b309edc013d37d8c857e11db1
encrypasswdlen 16
lcp-echo-failure 3
lcp-echo-interval 10
mru 1480
mtu 1480
dscp -1
priority -1
queuenum 15
padi-nterval 5
usepeerdns
</code></pre></div><p>可见拨号密码加密为 <code>encrypasswd</code> 字段，注意到可疑的 <code>passpppoe.so</code> 插件，猜测和处理解密有关，在 <code>/lib</code> 找到了这个文件（<a href=cmcc-encrypted-pppoe-password/passpppoe.so>下载</a>），使用 curl 提取出来：</p><div class=flex-wrapper><pre><code class=language-bash-prompt><span class=hl-sh-prompt data-prompt="$ "></span><span class=line><span style=color:#6F42C1>file</span><span style=color:#032F62> passpppoe.so</span></span>
passpppoe.so: ELF 32-bit LSB shared object, ARM, EABI5 version 1 (SYSV), dynamically linked, BuildID[sha1]=6bd5fa48300fa20933647df62747c97128e52e70, stripped
</code></pre></div><p>使用 IDA 打开，找到 <code>plugin_init</code> 函数：</p><div class=flex-wrapper><pre><code class=language-cpp><span class=line><span style=color:#D73A49>int</span><span style=color:#6F42C1> plugin_init</span><span style=color:#24292E>()</span></span>
<span class=line><span style=color:#24292E>{</span></span>
<span class=line><span style=color:#D73A49>  int</span><span style=color:#24292E> result;</span><span style=color:#6A737D> // r0</span></span>
<span class=line></span>
<span class=line><span style=color:#24292E>  result </span><span style=color:#D73A49>=</span><span style=color:#6F42C1> add_options</span><span style=color:#24292E>(</span><span style=color:#D73A49>&#x26;</span><span style=color:#24292E>off_11170);</span></span>
<span class=line><span style=color:#24292E>  pap_check_hook </span><span style=color:#D73A49>=</span><span style=color:#24292E> sub_978;</span></span>
<span class=line><span style=color:#24292E>  pap_passwd_hook </span><span style=color:#D73A49>=</span><span style=color:#24292E> sub_AB0;</span></span>
<span class=line><span style=color:#24292E>  chap_check_hook </span><span style=color:#D73A49>=</span><span style=color:#24292E> sub_978;</span></span>
<span class=line><span style=color:#24292E>  chap_passwd_hook </span><span style=color:#D73A49>=</span><span style=color:#24292E> sub_AB0;</span></span>
<span class=line><span style=color:#D73A49>  return</span><span style=color:#24292E> result;</span></span>
<span class=line><span style=color:#24292E>}</span></span>
<span class=line></span></code></pre></div><p>解密逻辑在 <code>pap_passwd_hook</code> 和 <code>chap_passwd_hook</code> 所指向的 <code>sub_AB0</code> 函数中，对变量名进行还原后的逻辑如下：</p><div class=flex-wrapper><pre><code class=language-cpp><span class=line><span style=color:#D73A49>int</span><span style=color:#D73A49> __fastcall</span><span style=color:#6F42C1> sub_AB0</span><span style=color:#24292E>(</span><span style=color:#D73A49>int</span><span style=color:#E36209> a1</span><span style=color:#24292E>, </span><span style=color:#D73A49>char</span><span style=color:#D73A49> *</span><span style=color:#E36209>result</span><span style=color:#24292E>)</span></span>
<span class=line><span style=color:#24292E>{</span></span>
<span class=line><span style=color:#D73A49>  int</span><span style=color:#24292E> dec_len;</span><span style=color:#6A737D> // r4</span></span>
<span class=line><span style=color:#D73A49>  size_t</span><span style=color:#24292E> s_len;</span><span style=color:#6A737D> // r0</span></span>
<span class=line><span style=color:#D73A49>  bool</span><span style=color:#24292E> has_extra_block;</span><span style=color:#6A737D> // zf</span></span>
<span class=line><span style=color:#D73A49>  int</span><span style=color:#24292E> i;</span><span style=color:#6A737D> // r9</span></span>
<span class=line><span style=color:#D73A49>  unsigned</span><span style=color:#D73A49> int</span><span style=color:#24292E> dec_len_;</span><span style=color:#6A737D> // r4</span></span>
<span class=line><span style=color:#D73A49>  char</span><span style=color:#D73A49> *</span><span style=color:#24292E>decrypted_block;</span><span style=color:#6A737D> // r1</span></span>
<span class=line><span style=color:#D73A49>  char</span><span style=color:#D73A49> *</span><span style=color:#24292E>decoded_block;</span><span style=color:#6A737D> // r0</span></span>
<span class=line><span style=color:#D73A49>  char</span><span style=color:#24292E> s_sha256[</span><span style=color:#005CC5>32</span><span style=color:#24292E>];</span><span style=color:#6A737D> // [sp+10h] [bp-2E4h] BYREF</span></span>
<span class=line><span style=color:#D73A49>  char</span><span style=color:#24292E> s[</span><span style=color:#005CC5>36</span><span style=color:#24292E>];</span><span style=color:#6A737D> // [sp+30h] [bp-2C4h] BYREF</span></span>
<span class=line><span style=color:#D73A49>  char</span><span style=color:#24292E> decoded[</span><span style=color:#005CC5>196</span><span style=color:#24292E>];</span><span style=color:#6A737D> // [sp+54h] [bp-2A0h] BYREF</span></span>
<span class=line><span style=color:#D73A49>  char</span><span style=color:#24292E> decrypted[</span><span style=color:#005CC5>196</span><span style=color:#24292E>];</span><span style=color:#6A737D> // [sp+118h] [bp-1DCh] BYREF</span></span>
<span class=line><span style=color:#24292E>  _BYTE aes_key[</span><span style=color:#005CC5>280</span><span style=color:#24292E>];</span><span style=color:#6A737D> // [sp+1DCh] [bp-118h] BYREF</span></span>
<span class=line></span>
<span class=line><span style=color:#6F42C1>  memset</span><span style=color:#24292E>(s, </span><span style=color:#005CC5>0</span><span style=color:#24292E>, </span><span style=color:#D73A49>0x</span><span style=color:#005CC5>21</span><span style=color:#D73A49>u</span><span style=color:#24292E>);</span></span>
<span class=line><span style=color:#6F42C1>  memset</span><span style=color:#24292E>(decoded, </span><span style=color:#005CC5>0</span><span style=color:#24292E>, </span><span style=color:#D73A49>0x</span><span style=color:#005CC5>C3</span><span style=color:#D73A49>u</span><span style=color:#24292E>);</span></span>
<span class=line><span style=color:#6F42C1>  memset</span><span style=color:#24292E>(decrypted, </span><span style=color:#005CC5>0</span><span style=color:#24292E>, </span><span style=color:#D73A49>0x</span><span style=color:#005CC5>C3</span><span style=color:#D73A49>u</span><span style=color:#24292E>);</span></span>
<span class=line><span style=color:#D73A49>  if</span><span style=color:#24292E> ( </span><span style=color:#D73A49>!</span><span style=color:#6F42C1>memcmp</span><span style=color:#24292E>(</span><span style=color:#D73A49>&#x26;</span><span style=color:#24292E>encrypasswd, decrypted, </span><span style=color:#D73A49>0x</span><span style=color:#005CC5>C3</span><span style=color:#D73A49>u</span><span style=color:#24292E>) )</span></span>
<span class=line><span style=color:#24292E>  {</span></span>
<span class=line><span style=color:#6F42C1>    ProcUserLog</span><span style=color:#24292E>(</span><span style=color:#032F62>"passdecry.c"</span><span style=color:#24292E>, </span><span style=color:#005CC5>113</span><span style=color:#24292E>, </span><span style=color:#032F62>"pwdecrypt_passwd"</span><span style=color:#24292E>, </span><span style=color:#005CC5>4</span><span style=color:#24292E>, </span><span style=color:#005CC5>0</span><span style=color:#24292E>, </span><span style=color:#032F62>"the encrypasswd is NULL"</span><span style=color:#24292E>);</span></span>
<span class=line><span style=color:#D73A49>    return</span><span style=color:#D73A49> -</span><span style=color:#005CC5>1</span><span style=color:#24292E>;</span></span>
<span class=line><span style=color:#24292E>  }</span></span>
<span class=line><span style=color:#D73A49>  else</span></span>
<span class=line><span style=color:#24292E>  {</span></span>
<span class=line><span style=color:#D73A49>    if</span><span style=color:#24292E> ( result )</span></span>
<span class=line><span style=color:#24292E>    {</span></span>
<span class=line><span style=color:#6F42C1>      j_HexToStr</span><span style=color:#24292E>((</span><span style=color:#D73A49>int</span><span style=color:#24292E>)</span><span style=color:#D73A49>&#x26;</span><span style=color:#24292E>encrypasswd, pass_dec_len, (</span><span style=color:#D73A49>int</span><span style=color:#24292E>)decoded);</span></span>
<span class=line><span style=color:#6F42C1>      strncpy</span><span style=color:#24292E>(s, </span><span style=color:#032F62>"608158c36497b00221db14afb845c9e3"</span><span style=color:#24292E>, </span><span style=color:#D73A49>0x</span><span style=color:#005CC5>20</span><span style=color:#D73A49>u</span><span style=color:#24292E>);</span></span>
<span class=line><span style=color:#24292E>      dec_len </span><span style=color:#D73A49>=</span><span style=color:#24292E> pass_dec_len;</span></span>
<span class=line><span style=color:#6F42C1>      memset</span><span style=color:#24292E>(s_sha256, </span><span style=color:#005CC5>0</span><span style=color:#24292E>, </span><span style=color:#D73A49>sizeof</span><span style=color:#24292E>(s_sha256));</span></span>
<span class=line><span style=color:#6F42C1>      memset</span><span style=color:#24292E>(aes_key, </span><span style=color:#005CC5>0</span><span style=color:#24292E>, </span><span style=color:#D73A49>0x</span><span style=color:#005CC5>F4</span><span style=color:#D73A49>u</span><span style=color:#24292E>);</span></span>
<span class=line><span style=color:#24292E>      s_len </span><span style=color:#D73A49>=</span><span style=color:#6F42C1> strlen</span><span style=color:#24292E>(s);</span></span>
<span class=line><span style=color:#6A737D>      // 密钥是上述字符串的 SHA256 值</span></span>
<span class=line><span style=color:#6F42C1>      SHA256</span><span style=color:#24292E>((</span><span style=color:#D73A49>int</span><span style=color:#24292E>)s, s_len, s_sha256);</span></span>
<span class=line><span style=color:#6F42C1>      AES_set_decrypt_key</span><span style=color:#24292E>((</span><span style=color:#D73A49>int</span><span style=color:#24292E>)s_sha256, </span><span style=color:#005CC5>256</span><span style=color:#24292E>, (</span><span style=color:#D73A49>int</span><span style=color:#24292E>)aes_key);</span></span>
<span class=line><span style=color:#6A737D>      // AES padding 的处理</span></span>
<span class=line><span style=color:#24292E>      has_extra_block </span><span style=color:#D73A49>=</span><span style=color:#24292E> (dec_len </span><span style=color:#D73A49>&#x26;</span><span style=color:#D73A49> 0x</span><span style=color:#005CC5>F</span><span style=color:#24292E>) </span><span style=color:#D73A49>==</span><span style=color:#005CC5> 0</span><span style=color:#24292E>;</span></span>
<span class=line><span style=color:#D73A49>      if</span><span style=color:#24292E> ( (dec_len </span><span style=color:#D73A49>&#x26;</span><span style=color:#D73A49> 0x</span><span style=color:#005CC5>F</span><span style=color:#24292E>) </span><span style=color:#D73A49>!=</span><span style=color:#005CC5> 0</span><span style=color:#24292E> )</span></span>
<span class=line><span style=color:#24292E>        dec_len </span><span style=color:#D73A49>&#x26;=</span><span style=color:#D73A49> 0x</span><span style=color:#005CC5>FFFFFFF0</span><span style=color:#24292E>;</span></span>
<span class=line><span style=color:#24292E>      i </span><span style=color:#D73A49>=</span><span style=color:#005CC5> 0</span><span style=color:#24292E>;</span></span>
<span class=line><span style=color:#D73A49>      if</span><span style=color:#24292E> ( </span><span style=color:#D73A49>!</span><span style=color:#24292E>has_extra_block )</span></span>
<span class=line><span style=color:#24292E>        dec_len </span><span style=color:#D73A49>+=</span><span style=color:#005CC5> 16</span><span style=color:#24292E>;</span></span>
<span class=line><span style=color:#24292E>      dec_len_ </span><span style=color:#D73A49>=</span><span style=color:#24292E> dec_len </span><span style=color:#D73A49>&#x26;</span><span style=color:#D73A49> 0x</span><span style=color:#005CC5>FFFFFFF0</span><span style=color:#24292E>;</span></span>
<span class=line><span style=color:#6A737D>      // AES-ECB 解密</span></span>
<span class=line><span style=color:#D73A49>      while</span><span style=color:#24292E> ( dec_len_ </span><span style=color:#D73A49>!=</span><span style=color:#24292E> i )</span></span>
<span class=line><span style=color:#24292E>      {</span></span>
<span class=line><span style=color:#24292E>        decrypted_block </span><span style=color:#D73A49>=</span><span style=color:#D73A49> &#x26;</span><span style=color:#24292E>decrypted[i];</span></span>
<span class=line><span style=color:#24292E>        decoded_block </span><span style=color:#D73A49>=</span><span style=color:#D73A49> &#x26;</span><span style=color:#24292E>decoded[i];</span></span>
<span class=line><span style=color:#24292E>        i </span><span style=color:#D73A49>+=</span><span style=color:#005CC5> 16</span><span style=color:#24292E>;</span></span>
<span class=line><span style=color:#6F42C1>        AES_decrypt</span><span style=color:#24292E>(decoded_block, decrypted_block, aes_key);</span></span>
<span class=line><span style=color:#24292E>      }</span></span>
<span class=line><span style=color:#6F42C1>      strncpy</span><span style=color:#24292E>(result, decrypted, </span><span style=color:#D73A49>0x</span><span style=color:#005CC5>FF</span><span style=color:#D73A49>u</span><span style=color:#24292E>);</span></span>
<span class=line><span style=color:#24292E>    }</span></span>
<span class=line><span style=color:#D73A49>    return</span><span style=color:#005CC5> 1</span><span style=color:#24292E>;</span></span>
<span class=line><span style=color:#24292E>  }</span></span>
<span class=line><span style=color:#24292E>}</span></span>
<span class=line></span></code></pre></div><p>可见，插件调用了 OpenSSL 进行解密，所用的加密方式是 AES-256-ECB，密钥是一段字符串的 SHA256 哈希值。由此编写出解密脚本：</p><div class=flex-wrapper><pre><code class=language-js><span class=line><span style=color:#D73A49>import</span><span style=color:#24292E> crypto </span><span style=color:#D73A49>from</span><span style=color:#032F62> "crypto"</span><span style=color:#24292E>;</span></span>
<span class=line></span>
<span class=line><span style=color:#D73A49>const</span><span style=color:#005CC5> encrypasswd</span><span style=color:#D73A49> =</span><span style=color:#24292E> Buffer.</span><span style=color:#6F42C1>from</span><span style=color:#24292E>(</span><span style=color:#032F62>"d6122e4ad26fc0c611159cfb99dc9535"</span><span style=color:#24292E>, </span><span style=color:#032F62>"hex"</span><span style=color:#24292E>); </span><span style=color:#6A737D>// 该密码为样例</span></span>
<span class=line><span style=color:#D73A49>const</span><span style=color:#005CC5> aesKey</span><span style=color:#D73A49> =</span><span style=color:#24292E> crypto.</span><span style=color:#6F42C1>createHash</span><span style=color:#24292E>(</span><span style=color:#032F62>"sha256"</span><span style=color:#24292E>).</span><span style=color:#6F42C1>update</span><span style=color:#24292E>(</span><span style=color:#032F62>"5876a52b309edc013d37d8c857e11db1"</span><span style=color:#24292E>).</span><span style=color:#6F42C1>digest</span><span style=color:#24292E>();</span></span>
<span class=line><span style=color:#D73A49>const</span><span style=color:#005CC5> decipher</span><span style=color:#D73A49> =</span><span style=color:#24292E> crypto.</span><span style=color:#6F42C1>createDecipheriv</span><span style=color:#24292E>(</span><span style=color:#032F62>"aes-256-ecb"</span><span style=color:#24292E>, aesKey, </span><span style=color:#005CC5>null</span><span style=color:#24292E>);</span></span>
<span class=line><span style=color:#24292E>decipher.</span><span style=color:#6F42C1>setAutoPadding</span><span style=color:#24292E>(</span><span style=color:#005CC5>false</span><span style=color:#24292E>);</span></span>
<span class=line><span style=color:#D73A49>const</span><span style=color:#005CC5> decrypted</span><span style=color:#D73A49> =</span><span style=color:#24292E> Buffer.</span><span style=color:#6F42C1>concat</span><span style=color:#24292E>([</span></span>
<span class=line><span style=color:#24292E>  decipher.</span><span style=color:#6F42C1>update</span><span style=color:#24292E>(encrypasswd),</span></span>
<span class=line><span style=color:#24292E>  decipher.</span><span style=color:#6F42C1>final</span><span style=color:#24292E>()</span></span>
<span class=line><span style=color:#24292E>]);</span></span>
<span class=line></span>
<span class=line><span style=color:#24292E>console.</span><span style=color:#6F42C1>log</span><span style=color:#24292E>(decrypted);</span></span>
<span class=line><span style=color:#24292E>console.</span><span style=color:#6F42C1>log</span><span style=color:#24292E>(decrypted.</span><span style=color:#6F42C1>toString</span><span style=color:#24292E>(</span><span style=color:#032F62>"utf8"</span><span style=color:#24292E>));</span></span>
<span class=line></span></code></pre></div><p>得到密码后，删除 PPPoE 和 TR069 网络，把 PPPoE 和 TR069 的 VLAN ID 桥出来，并在 LAN 口上配置 VLAN 绑定，这之后就是熟悉的配网流程了。</p></div></div><nav class=post-pagination><span class=page-number></span> <a class=older-posts href=../how-does-kubectl-apply-merge/ >下一篇<br>Kubernetes 是如何合并 YAML 配置的？</a></nav><div class=post-comment-wrapper-giscus><div class=giscus></div></div></div></div><div class=single-column-footer>Powered by <a href=https://hexo.io/ target=_blank rel="noreferrer noopener">Hexo</a><br>Theme <a href=https://github.com/Menci/hexo-theme-journal/ target=_blank rel="noreferrer noopener">Journal</a> by <a href=https://mak1t0.cc/ target=_blank rel="noreferrer noopener">Makito</a><br>&copy; 2024 <a href=https://blog.men.ci>Menci<i class=material-icons>favorite</i></a></div></div></div><script src=//cdnjs.baoshuo.ren/ajax/libs/jquery/3.3.1/jquery.min.js crossorigin=anonymous></script><script src=//cdnjs.baoshuo.ren/ajax/libs/popper.js/1.14.4/umd/popper.min.js crossorigin=anonymous></script><script src=//cdnjs.baoshuo.ren/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js crossorigin=anonymous></script><script src=//cdnjs.baoshuo.ren/ajax/libs/vue/2.5.17/vue.min.js crossorigin=anonymous></script><script src=//cdnjs.baoshuo.ren/ajax/libs/smooth-scroll/14.2.1/smooth-scroll.min.js crossorigin=anonymous></script><script src=//cdnjs.baoshuo.ren/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js crossorigin=anonymous></script><script src=//static.cdn.menci.xyz/menci-blog/js/journal.bde01167.min.js crossorigin=anonymous></script><script src=//giscus.api.menci.xyz/client.js data-repo=Menci/blog data-repo-id=R_kgDOGsK5nA data-category=Comments data-category-id=DIC_kwDOGsK5nM4CAulO data-mapping=pathname data-reactions-enabled=1 data-emit-metadata=0 data-theme=menci-blog data-lang=zh-CN async></script><script>"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js?t=https%3A%2F%2Fstatic.cdn.menci.xyz%2Fmenci-blog%2F")}));</script></body></html>